---
output: github_document
---

<!-- README.md is generated from README.Rmd. Please edit that file -->

```{r, include = FALSE}
knitr::opts_chunk$set(
  message = FALSE,
  warning = FALSE,
  collapse = TRUE,
  comment = "#>",
  fig.path = "man/figures/README-",
  out.width = "100%"
)
```
# rdracor <img src="man/figures/logo.png" align="right" width="120" />

<!-- badges: start -->
[![Travis build status](https://travis-ci.org/Pozdniakov/rdracor.svg?branch=master)](https://travis-ci.org/Pozdniakov/rdracor)
[![Codecov test coverage](https://codecov.io/gh/Pozdniakov/rdracor/branch/master/graph/badge.svg)](https://codecov.io/gh/Pozdniakov/rdracor?branch=master)
<!-- badges: end -->

The goal of rdracor is to provide an R interface for the [Drama Corpora Project (Dracor) API]( https://dracor.org/documentation/api). More on Dracor project [here](https://dracor.org). 

## Installation


``` r
#install.packages("devtools") #if you don't have devtools installed
devtools::install_github("dracor-org/rdracor")
```

## General info on corpora

We can extract general information about available corpora:

```{r example}
library(rdracor)
```

```{r}
corpora <- get_dracor()
summary(corpora)
plot(corpora)
```

## Plays in the corpus

```{r}
ru <- get_corpus(corpus = "rus")
summary(ru)
ru_au <- authors(ru)
summary(ru_au)
plot(ru_au, top_minplays = 4)
```

## Play network

You can extract a network (undirected weighted graph) for a specific play:

```{r}
godunov <- play_igraph(corpus = "rus",
                       play = "pushkin-boris-godunov")
```

This will create an object of S3 class `"play_igraph"` that inherits from `"igraph"`. 
It means that you can work with it as an `"igraph"` object:

```{r}
library(igraph)
edge_density(godunov)
diameter(godunov, weights = NA)
graph.cohesion(godunov)
```

You can plot the graph: `plot()` will use plot method for `igraph` objects with some adjusted parameters. For example, vertices are coloured based on the gender and shape is based on whether a character is a group:

```{r}
plot(godunov)
```

In addition, you can get a summary with network properties and gender distribution:  

```{r}
summary(godunov)
```

